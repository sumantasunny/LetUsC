#include <stdio.h>

int arr[4][4];

void initArray(){
    int i=0;
    for(;i<4; i++){
        arr[i][0] = 0;
        arr[i][1] = 0;
        arr[i][2] = 0;
        arr[i][3] = 0;
    }
}

int checkPositionsValidity(int row, int col){
    int flag = 1;
    
    int k = row + 1, l = col + 1;
    while(k<4 && l<4){
       if(arr[k][l] == 1){
           flag = 0;
       }
       k++;
       l++;
    }
    
    k = row - 1, l = col - 1;
    while(k>=0 && l>=0){
        if(arr[k][l] == 1){
           flag = 0;
        }
        k--;
        l--;
    }
    
    k = row - 1, l = col + 1;
    while(k>=0 && l<4){
        if(arr[k][l] == 1){
           flag = 0;
        }
        k--;
        l++;
    }
    
    k = row + 1, l = col - 1;
    while(k<4 && l>=0){
        if(arr[k][l] == 1){
           flag = 0;
        }
        k++;
        l--;
    }
    
    int x=0;
    while(x<4){
        if(arr[x][col] == 1){
           flag = 0;
        }
        x++;
    }
    
    int y=0;
    while(y<4){
        if(arr[row][y] == 1){
           flag = 0;
        }
        y++;
    }
    return flag;
}

void nQueensProblem(int row, int col){
    int a=0, b = 0;
    //printf("%d :: %d ", row, col);
    
    if(row >= 4){
        printf("\n");
        for(a=0;a<4; a++){
            printf("|");
            for(b=0;b<4; b++){
                printf("%d\t", arr[a][b]);
            }
            printf("|\n");
        }
        row--;
        return ;
    }
    int i;
    for(i=0; i<4; i++){
        //printf("%d::%d\n", row, i);
        //col = i;
        if(checkPositionsValidity(row, i)){
            arr[row][i] = 1;
            //printf("\n");
            nQueensProblem(row+1, 0);
            //printf("2>>%d::%d\n", row, i);
            arr[row][i] = 0;
            //printf("3>>%d\n", arr[row][i]);
        }
        //printf("\n");
        
        //printf("\n");
        /*for(a=0;a<4; a++){
            printf("|");
            for(b=0;b<4; b++){
                printf("%d\t", arr[a][b]);
            }
            printf("|\n");
        }*/
    }
    row--;
}



int main(void) {
	initArray();
	nQueensProblem(0,0);
	return 0;
}

